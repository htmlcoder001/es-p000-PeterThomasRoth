"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6283],{52568:function(e,t,r){r.d(t,{A:function(){return i},P1:function(){return c},WB:function(){return f},_A:function(){return p},af:function(){return u},bG:function(){return a},ol:function(){return l},x8:function(){return s}});var n=r(69459);let{RUNTIME_PUBLIC_IMAGE_HOSTNAME:o}=n.ZP,i="landscape",a="portrait",u="square",c={YOUTUBE:"youtube",VIMEO_LIVESTREAM:"vimeolivestream"},f=[{width:480,params:{resize:"480:*"}},{width:640,params:{resize:"640:*"}},{width:980,params:{resize:"980:*"}},{width:1024,params:{resize:"1024:*"}},{width:1120,params:{resize:"1120:*"}}],l={640:{resize:"640:*"},980:{resize:"980:*"},1120:{resize:"1024:*"},1200:{resize:"1120:*"},1920:{resize:"1200:*"}},s={SRC:"/static/images/image-no-longer-available.jpg",HOSTNAME:new URL(o).origin,WIDTH:540,HEIGHT:540,CROP:"1.00xw:1xh;center,top"},p=2},76283:function(e,t,r){r.r(t),r.d(t,{breakpointSort:function(){return z},formatMedia:function(){return er},getCropOrientation:function(){return N},getCropsFromImage:function(){return R},getEmbedPriority:function(){return ea},getFileName:function(){return C},getFileUrl:function(){return B},getFreeformDimensions:function(){return G},getHipsUrl:function(){return v},getImageByRole:function(){return M},getImageMedia:function(){return eo},getImageUrl:function(){return x},getIsVideoMarquee:function(){return H},getLQIPVariable:function(){return k},getLeadYouTubeEmbedCode:function(){return J},getLegacyImageUrl:function(){return I},getLoopPosterUrl:function(){return V},getLoopUrl:function(){return Y},getLoopUrlFromSrc:function(){return Z},getMediaByMediaType:function(){return T},getMediaByRole:function(){return S},getMediaByRoleAndType:function(){return D},getMediaByTypeRoleAndEmbedType:function(){return F},getMediaUrl:function(){return ee},getOrientation:function(){return q},getPictureMedia:function(){return en},getValidImageURL:function(){return ei},getVideoPosterUrl:function(){return et},getYouTubeEmbedObj:function(){return Q},getYouTubeId:function(){return W},isGif:function(){return X},transformLeadYouTubeEmbedObject:function(){return K},transformMediaItem:function(){return eu}});var n=r(57117),o=r(95258),i=r(52568),a=r(59828),u=r(36270),c=r(69459),f=r(98583),l=r(52859),s=r(20644),p=r(87885);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let g=e=>e.map(e=>parseFloat(e)),y=e=>{let t=Object.keys(e);return t.length?t.reduce((t,r,n)=>`${t}${0===n?"":"&"}${r}=${e[r]}`,"?"):""},h={resize:({resize:e})=>({width:e&&e.split(":").shift()}),format:"",frame:""},b=e=>{let t={};return e&&"object"==typeof e&&Object.keys(h).forEach(r=>{e[r]&&("function"==typeof h[r]?t=d(d({},t),h[r](e)):t[r]=e[r])}),t},w=(e,t,r)=>{if(!e||!e.length)return{};let[n,o="center,top"]=e.split(";"),[i,a]=g(n.split(":")),u=(100*i).toFixed(2).replace(/\.?0*$/,""),c=(100*a).toFixed(2).replace(/\.?0*$/,""),f=`${u||100}p,${c||100}p`,[l,s]=o.split(","),p={left:"offset-x0",center:"offset-x50",right:"offset-x100",auto:"smart"}[l]??`x${parseInt(Math.round(parseFloat(l)*t),10)}`,m={top:"offset-y0",center:"offset-y50",bottom:"offset-y100",auto:"smart"}[s]??`y${parseInt(Math.round(parseFloat(s)*r),10)}`;return{crop:`${f},${p},${m},safe`}},O=["crop","hostname","crops"],j=["hips_url","pathname"],$=["crop","crops"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let _=new f.Z("Media Utils"),E={format:"jpeg",frame:1,auto:"webp"},{RUNTIME_PUBLIC_IMAGE_HOSTNAME:L,RUNTIME_MEDIA_GATEWAY_URL:A}=c.ZP;function R(e,t={}){return P(P(P(P({},e?.image_metadata?.crops),e?.metadata?.legacy_crops),e?.metadata?.crops),t)}function v(e){if(!e)return"";try{let t=new URL(L),r=new URL(e);return e.replace(`${r.protocol}//`,`${r.protocol}//${t.host}/`)}catch(e){return""}}function I(e,t){let r=(0,p.U2)(e,"image_metadata.legacy_domain"),n=(0,p.U2)(e,"pathname"),o="";if(r){let e=(0,s.u)(r,e=>{_.log(`Invalid URL ${r} in getLegacyImageUrl util  ${e.message}`,e)});o=e?.hostname}if(!o)return"";let i=new URL(t);return i.pathname=`/${o}${n}`,i.toString()}function x(e,t){let r;let o=t||{},{crop:i="",hostname:a=L,crops:u={}}=o,c=(0,n.Z)(o,O),f="",l=u;if(e&&e.constructor===Object){let{hips_url:t,pathname:r}=e,o=(0,n.Z)(e,j);f=I(e,a)||t||r||f,l=R(o,u)}else"string"==typeof e&&(f=e);f.startsWith("/")&&a&&(f=`${a}${f}`);try{r=new URL(f)}catch(e){return""}if(l.constructor===Object){let e=l[i]||"";if(e.startsWith("http")){let t;try{t=new URL(e)}catch(e){return""}let{host:n,pathname:o}=t;r.pathname=`/${n}${o}`}else e?c.crop=e:"string"==typeof i&&i.length&&i.includes("x")&&(c.fill=i.replace("x",":"))}Object.entries(c).map(([e,t])=>r.searchParams.set(e,t)),r.searchParams.sort();let s=r.toString();try{s=decodeURIComponent(s)}catch(e){_.warn("Image URL contains invalid params encoding")}return s}function M(e,t){return Array.isArray(t)?t.find(t=>+(t?.role??0)==+e):null}function S(e,t){return Array.isArray(e)&&t&&e.find(e=>(e?.role??"")===t)||null}function T(e,t){return Array.isArray(e)&&t&&e.find(e=>(e?.media_type??"")===t)||null}function D(e,t,r){return Array.isArray(e)&&t&&r&&e.find(e=>(e?.media_type??"")===t&&(e?.role??"")===r)||null}function F(e,t,r,n=""){return Array.isArray(e)&&n&&e.find(e=>(e?.media_type??"")===t&&(e?.role??"")===r&&(e?.metadata?.embed_type??"")===n)||null}function z({width:e},{width:t}){let[r,n]=[parseFloat(e),parseFloat(t)];return r===n?0:r>n?-1:1}function k(e,t="--lqip"){return{[t]:`url(${e});`}}function B(...e){try{return new URL(e?.join("/"))}catch(e){return""}}let C=e=>e.split("/").pop(),Z=e=>B(A,"loop/video",C(e)).toString(),Y=e=>{let{filename:t}=e,r=B(A,"loop/video",t);return r.toString()},V=e=>{let t=C(e),r=new URL([A,"loop",t,"poster.jpg"].join("/"));return r.toString()},H=e=>e===u.w_.FILE;function q(e,t){return(e||t)&&!(e>t)?e<t?i.bG:e===t?i.af:i.A:i.A}function G(e){let{groups:{width:t,height:r}={}}=e.match(/^(?<width>[\d.]+)xw:(?<height>[\d.]+)xh;/)??[];return{width:t,height:r}}function N({selectedCrop:e,crops:t={},width:r,height:n,useOriginalFreeform:o=!0}){if("string"!=typeof e||o&&"freeform"===e)return q(r,n);if("freeform"===e&&t?.freeform){let e=t.freeform,{height:o,width:i}=G(e);return q(~~(i*r),~~(o*n))}let[i,a]=e.split("x");return q(~~i,~~a)}function W(e){let t=/(?:http:|https:)*?\/\/(?:www\.|)(?:youtube\.com|m\.youtube\.com|youtu\.|youtube-nocookie\.com).*(?:v=|v%3D|v\/|(?:a|p)\/(?:a|u)\/\d.*\/|watch\?|vi(?:=|\/)|\/embed\/|oembed\?|be\/|e\/)([^&?%#\/\n"]*)/i.exec(e);return t&&t[1]&&"null"!==t[1]?t[1]:null}function Q(e){if(!e)return null;let t=e.split("src=")?.[1]?.split(/[ >]/)?.[0]?.replace(/"/g,"");if(!t)return null;let r=t&&t.split("?");return{url:t,id:W(t),params:r&&r.length>=2?`?${r.pop()}`:""}}function J(e){if(!Array.isArray(e))return null;let t=e.find(e=>e.role===u.b6.LEDE&&e.metadata?.embed_type===i.P1.YOUTUBE&&"string"==typeof e.metadata?.embed_code);return t}async function K(e){if(Array.isArray(e)){let t=e.find(e=>e.role===u.b6.LEDE&&e.metadata?.embed_type===i.P1.YOUTUBE&&"string"==typeof e.metadata?.embed_code);if(t){let e=Q(t.metadata.embed_code),r=new URLSearchParams(e.params);if(r&&"0"===r.get("autoplay")){let r=`https://www.youtube.com/watch?v=${e.id}`,n=await (0,l.getOembedResponse)("https://www.youtube.com/oembed",r,_),{title:o}=n;t.title=o}}return t}return e}function X(e){let{file_type:t}=e?.image_metadata??{};if(t)return"image/gif"===t;let r=e?.hips_url??e?.aws_url??"",n=r.split(".").pop();return"gif"===(n||"").toLowerCase()}let ee=(e,t={})=>{let{hips_prefix:r,pathname:o}=e,{crop:i="",crops:a={}}=t,u=(0,n.Z)(t,$),c=w(R(e,a)?.[i],e?.width,e?.height),f=b(u),l=I(e,A),s=l||`${A}/${r}${o}`;return`${s}${y(P(P({},c),f))}`};function et(e,t=E){try{let r=new URL(e);return Object.keys(t).forEach(e=>{r.searchParams.set(e,t[e])}),r.toString()}catch(e){return""}}function er(e,t=2,r=!1){return`(${r?"max":"min"}-width: ${Math.floor(e*t)}px)`}function en(e){let t="string"==typeof e||Array.isArray(e)?{size:e,mediaPrefix:""}:P(P({},e),{},{mediaPrefix:""});return(0,a.mq)(t)}function eo(e,t,r,n){let o=er(e,n);return r[t+1]&&(o=`${o} and ${er(r[t+1]?.width,n,!0)}`),o}function ei(e){try{return new URL(e)}catch(e){return!1}}function ea(e,t=[]){return e?t.some(e=>e.role===u.b6.LEDE)?"auto":"high":"auto"}function eu(e){return e?.media_type!=="image"||(e?.metadata&&(e.metadata.crops=R(e)),e?.image_metadata?.crops&&(e.image_metadata.crops={}),e?.metadata?.legacy_crops&&(e.metadata.legacy_crops={})),e}}}]);